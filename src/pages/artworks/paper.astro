---
import Layout from '../../layouts/Layout.astro';
import ProductCard from '../../components/ProductCard.astro';
import ImageWithText from '../../components/ImageWithText.astro';
import { getProductsByMedium } from '../../lib/directus';

const products = await getProductsByMedium('paper');
---

<Layout title="On Bristol">
  <section class="collection section">
    <div class="page-width">
      <ImageWithText
        image="/images/paper.jpg"
        imageAlt="Pen plotter artwork on Bristol paper"
        title="Pen Plotted On Bristol âœ¨"
        description="Original pen plotted artworks on premium Bristol paper, each piece uniquely crafted in Paris"
        imagePosition="left"
      />

      <div class="product-grid">
        {products.map((product) => (
          <ProductCard product={product} />
        ))}
      </div>

      {products.length === 0 && (
        <p class="collection__empty">No paper artworks available at the moment.</p>
      )}
    </div>
  </section>
</Layout>

<style>
  .collection__empty {
    text-align: center;
    padding: 4rem;
    opacity: 0.6;
  }

  /* Override ImageWithText styles for category pages */
  .collection :global(.image-with-text__content) {
    padding: 3rem 10% 3rem 5%;
  }

  .collection :global(.image-with-text__heading) {
    font-size: 3.4rem;
    white-space: nowrap;
  }

  .collection :global(.image-with-text__text) {
    font-size: 1.6rem;
  }
</style>
