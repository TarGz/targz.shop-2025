---
import Layout from '../../layouts/Layout.astro';
import ProductCard from '../../components/ProductCard.astro';
import { getProductsByMedium } from '../../lib/directus';

const products = await getProductsByMedium('paper');
---

<Layout title="Paper Artworks">
  <section class="collection section">
    <div class="page-width">
      <header class="collection__header">
        <h1 class="collection__title">Paper Artworks</h1>
        <p class="collection__count">{products.length} pieces</p>
      </header>

      <div class="product-grid">
        {products.map((product) => (
          <ProductCard product={product} />
        ))}
      </div>

      {products.length === 0 && (
        <p class="collection__empty">No paper artworks available at the moment.</p>
      )}
    </div>
  </section>
</Layout>

<style>
  .collection__header {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    margin-bottom: 3rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(18, 18, 18, 0.08);
  }

  .collection__title {
    font-size: 2.4rem;
  }

  .collection__count {
    font-size: 1.3rem;
    opacity: 0.6;
  }

  .collection__empty {
    text-align: center;
    padding: 4rem;
    opacity: 0.6;
  }
</style>
